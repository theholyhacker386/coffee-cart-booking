module.exports=[5567,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987),f=a.i(70106);let g=(0,f.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var h=a.i(96221);let i=(0,f.default)("calendar-x",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);var j=a.i(38246),k=a.i(41675),l=a.i(44194);let m=(0,f.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var n=a.i(41710),o=a.i(79658);function p({id:a,eventDate:c,eventType:d,customEventType:e,customerName:f,drinkPackage:g,eventCategory:h,status:i,checklistTotal:p,checklistCompleted:q}){let r=new Date(c+"T12:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),s=function(a){switch(a){case"drip":return"Drip Coffee";case"standard":return"Standard Espresso";case"premium":return"Premium Espresso";case"kombucha":return"Kombucha Bar";case"hotchoc":return"Hot Chocolate Bar";default:return"Public Event"}}(g);return(0,b.jsxs)(j.default,{href:`/employee/event/${a}`,className:"block bg-gray-800/80 border border-gray-700/50 rounded-2xl p-4 sm:p-5 hover:border-amber-500/30 hover:bg-gray-800 transition-all duration-200 active:scale-[0.98]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Calendar,{className:"w-4 h-4 text-amber-400"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-amber-400",children:r})]}),"pending"===i&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-500/20 text-amber-300 border border-amber-500/30",children:[(0,b.jsx)(n.Clock,{className:"w-3 h-3"}),"Pending Approval"]})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Other"===d&&e?e:d||"Event"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(m,{className:"w-3.5 h-3.5 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-300",children:f||"Unknown"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(l.Coffee,{className:"w-3.5 h-3.5 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"public"===h?"Public Event":s})]}),(0,b.jsx)(o.default,{completed:q,total:p})]})}let q=(0,f.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),r=(0,f.default)("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]),s=(0,f.default)("square-plus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),t=(0,f.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),u=(0,f.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);function v(){let[a,d]=(0,c.useState)(!1),[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=navigator.userAgent;if(!/iPhone|iPad|iPod|Android/i.test(a)||window.matchMedia("(display-mode: standalone)").matches||"standalone"in navigator&&!0===navigator.standalone)return;let b=localStorage.getItem("cc_a2hs_dismissed");if(b){let a=parseInt(b,10);if(Date.now()-a<6048e5)return}f(/iPhone|iPad|iPod/i.test(a)),h(/Android/i.test(a));let c=setTimeout(()=>d(!0),1500);return()=>clearTimeout(c)},[]);let i=()=>{d(!1),localStorage.setItem("cc_a2hs_dismissed",Date.now().toString())};return a?(0,b.jsx)("div",{"data-a2hs-popup":!0,className:"fixed inset-0 z-50 flex items-end justify-center bg-black/60 backdrop-blur-sm px-4 pb-6",children:(0,b.jsxs)("div",{className:"bg-gray-900 border border-gray-700/50 rounded-2xl w-full max-w-md p-5 shadow-2xl animate-in slide-in-from-bottom",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Add to Home Screen"}),(0,b.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors p-1",children:(0,b.jsx)(q,{className:"w-5 h-5"})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-300 mb-5",children:"Install this app on your phone for quick access and to enable notifications."}),e&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-amber-400 font-bold text-sm",children:"1"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white font-medium",children:"Tap the Share button"}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5 flex items-center gap-1",children:["Look for the ",(0,b.jsx)(r,{className:"w-3.5 h-3.5 inline"})," icon at the bottom of Safari"]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-amber-400 font-bold text-sm",children:"2"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white font-medium",children:"Scroll down and tap “Add to Home Screen”"}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5 flex items-center gap-1",children:["Look for the ",(0,b.jsx)(s,{className:"w-3.5 h-3.5 inline"})," icon"]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-amber-400 font-bold text-sm",children:"3"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white font-medium",children:"Tap “Add”"}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-0.5",children:"The app will appear on your home screen like a regular app"})]})]})]}),g&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-amber-400 font-bold text-sm",children:"1"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white font-medium",children:"Tap the menu button"}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5 flex items-center gap-1",children:["Look for ",(0,b.jsx)(t,{className:"w-3.5 h-3.5 inline"})," (three dots) in Chrome"]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-amber-400 font-bold text-sm",children:"2"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white font-medium",children:"Tap “Install app” or “Add to Home screen”"}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5 flex items-center gap-1",children:["Look for the ",(0,b.jsx)(u,{className:"w-3.5 h-3.5 inline"})," icon"]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-amber-400 font-bold text-sm",children:"3"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white font-medium",children:"Tap “Install”"}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-0.5",children:"The app will appear on your home screen"})]})]})]}),(0,b.jsx)("button",{onClick:i,className:"w-full mt-6 py-3 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 transition-colors",children:"Maybe later"})]})}):null}let w=(0,f.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),x=(0,f.default)("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);function y(){let[a,d]=(0,c.useState)(!1),[e,f]=(0,c.useState)("default");(0,c.useEffect)(()=>{if(!("Notification"in window)||!("serviceWorker"in navigator))return;let a=Notification.permission;if(f(a),"default"!==a)return;let b=localStorage.getItem("cc_notif_dismissed");if(b){let a=parseInt(b,10);if(Date.now()-a<2592e5)return}let c=()=>{document.querySelector("[data-a2hs-popup]")?setTimeout(c,1e3):d(!0)},e=setTimeout(c,3e3);return()=>clearTimeout(e)},[]);let g=async()=>{try{"serviceWorker"in navigator&&await navigator.serviceWorker.register("/sw.js");let a=await Notification.requestPermission();f(a),"granted"===a&&(new Notification("Notifications enabled!",{body:"You'll get reminders before your events.",icon:"/the porch coffe bar logo.png"}),localStorage.setItem("cc_notif_enabled","true")),d(!1)}catch{d(!1)}},h=()=>{d(!1),localStorage.setItem("cc_notif_dismissed",Date.now().toString())};return a&&"default"===e?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/60 backdrop-blur-sm px-4 pb-6",children:(0,b.jsxs)("div",{className:"bg-gray-900 border border-gray-700/50 rounded-2xl w-full max-w-md p-5 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-amber-500/20 flex items-center justify-center",children:(0,b.jsx)(x,{className:"w-6 h-6 text-amber-400"})}),(0,b.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors p-1",children:(0,b.jsx)(q,{className:"w-5 h-5"})})]}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-white mb-2",children:"Turn on notifications?"}),(0,b.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Get helpful reminders before your events:"}),(0,b.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1.5 mb-5 ml-1",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(w,{className:"w-3.5 h-3.5 text-amber-400 flex-shrink-0"}),"Day-before reminder to prep the cart"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(w,{className:"w-3.5 h-3.5 text-amber-400 flex-shrink-0"}),"1-hour heads up before you need to be at the shop"]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:h,className:"flex-1 py-3 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 transition-colors",children:"Not now"}),(0,b.jsx)("button",{onClick:g,className:"flex-1 py-3 rounded-xl bg-amber-500 text-sm font-medium text-gray-950 hover:bg-amber-400 transition-colors",children:"Turn on"})]})]})}):null}function z(){let a=(0,d.useRouter)(),[f,j]=(0,c.useState)("upcoming"),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1);(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/employee/me");if(a.ok){let b=await a.json();q(b.name||"")}}catch{}}()},[]);let t=(0,c.useCallback)(async a=>{n(!0);try{let b=await fetch(`/api/bookings?filter=${a}`);if(b.ok){let a=await b.json();l(a)}else l([])}catch{l([])}finally{n(!1)}},[]);async function u(){s(!0);try{await fetch("/api/employee/logout",{method:"POST"}),a.push("/employee")}catch{s(!1)}}return(0,c.useEffect)(()=>{t(f)},[f,t]),(0,b.jsxs)("div",{className:"min-h-screen bg-gray-950 flex flex-col",children:[(0,b.jsx)(v,{}),(0,b.jsx)(y,{}),(0,b.jsx)("header",{className:"sticky top-0 z-10 bg-gray-950/95 backdrop-blur-sm border-b border-gray-800/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 max-w-lg mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.default,{src:"/the porch coffe bar logo.png",alt:"The Porch Coffee Bar",width:36,height:36,className:"rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-sm font-serif text-white leading-tight",children:"The Porch"}),o&&(0,b.jsxs)("p",{className:"text-xs text-gray-400",children:["Hi, ",o]})]})]}),(0,b.jsxs)("button",{onClick:u,disabled:r,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-colors disabled:opacity-50",children:[r?(0,b.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(g,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})}),(0,b.jsxs)("main",{className:"flex-1 px-4 pb-8 max-w-lg mx-auto w-full",children:[(0,b.jsxs)("div",{className:"flex bg-white/5 rounded-xl p-1 my-5",children:[(0,b.jsx)("button",{type:"button",onClick:()=>j("upcoming"),className:`flex-1 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 ${"upcoming"===f?"bg-amber-500 text-gray-950":"text-white/60 hover:text-white/80"}`,children:"Upcoming"}),(0,b.jsx)("button",{type:"button",onClick:()=>j("past"),className:`flex-1 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 ${"past"===f?"bg-amber-500 text-gray-950":"text-white/60 hover:text-white/80"}`,children:"Past"})]}),m&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,b.jsx)(h.Loader2,{className:"w-8 h-8 text-amber-400 animate-spin mb-3"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Loading events..."})]}),!m&&0===k.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,b.jsx)(i,{className:"w-12 h-12 text-gray-600 mb-4"}),(0,b.jsx)("h2",{className:"text-lg font-medium text-gray-300 mb-1",children:"upcoming"===f?"No upcoming events":"No past events yet"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"upcoming"===f?"When new bookings come in, they'll show up here.":"Completed events will appear here."})]}),!m&&k.length>0&&(0,b.jsx)("div",{className:"space-y-3",children:k.map(a=>(0,b.jsx)(p,{id:a.id,eventDate:a.event_date,eventType:a.event_type||"",customEventType:a.custom_event_type,customerName:a.customer_name||"Unknown",drinkPackage:a.drink_package,eventCategory:a.event_category||"private",status:a.status||"pending",checklistTotal:a.checklist_total,checklistCompleted:a.checklist_completed},a.id))})]})]})}a.s(["default",()=>z],5567)}];

//# sourceMappingURL=app_employee_dashboard_page_tsx_d20c21a2._.js.map